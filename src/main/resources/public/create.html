<!DOCTYPE html>
<html>
<head>
    <title>HTML Login Form</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="main">
        <h1>Secure Chat System</h1>
        <h3>Create your login credentials</h3>
        <form action="/create" method="post" id="fid" onsubmit="validateForm()">
            <label for="username">
                Username:
            </label>
            <input type="text" id="username" name="username"
                placeholder="Enter your Username" required>
            <label for="password1">
                Password:
            </label>
            <input type="password" id="password1" name="password1"
                placeholder="Enter your Password" required>
            <label for="password2">
                Verify Password:
            </label>
            <input type="password" id="password2" name="password2"
                   placeholder="Enter your Password again" required>
            <label for="aliasname">
                Alias name:
            </label>
            <input type="text" id="aliasname" name="aliasname"
                   placeholder="Enter your Alias name appearing in chats" required>
            <label for="phonenumber">
                Phone number:
            </label>
            <input type="text" id="phonenumber" name="phonenumber"
                   placeholder="Enter your phone number" required>
            <label for="emailaddress">
                Email address:
            </label>
            <input type="text" id="emailaddress" name="emailaddress"
                   placeholder="Enter your email address" required>

            <div class="wrap">
                <button type="submit">
                    Submit
                </button>
            </div>
        </form>
        
        <p>
            <a href="/index.html" style="text-decoration: none;">
                Return to login
            </a>
        </p>
    </div>

    <script>
        function validateForm() {
            let name = document.getElementById("username").value;
            let pass1 = document.getElementById("password1").value;
            let pass2 = document.getElementById("password2").value;
            let email = document.getElementById("emailaddress").value;
            let aliasname = document.getElementById("aliasname").value;
            let phonenumber = document.getElementById("phonenumber").value;

            if (name == "") {
                alert("Your username must be entered.");
                return false;
            }
            if (pass1    == "") {
                alert("Login password must be entered.");
                return false;
            }
            if (pass2 == "") {
                alert("Copy of login password to must be entered.");
                return false;
            }
            if (pass != pass2) {
                alert("Passwords do not match.");
                return false;
            }
            if (aliasname == "") {
                alert("Chat alias name must be entered.");
                return false;
            }
            if (phonenumber == "") {
                alert("Phone number must be entered.");
                return false;
            }
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                alert("Invalid email format");
                return false;
            }

            return true;
        }
    </script>

</body>

</html>

